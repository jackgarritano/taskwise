(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();async function _(){try{return await(await fetch("http://localhost:3000/tasks",{mode:"cors"})).json()}catch(e){console.log("getAllTasks error: "+e)}}async function ae(e){try{let n=await(await fetch("http://localhost:3000",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();return e.id=n._id,e}catch(t){console.log("saveTask error: "+t)}}async function re(e){try{let t=await fetch("http://localhost:3000",{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})});return"success"}catch(t){return t}}function ie(e){var t,n;const r=new Date;var a=r.getFullYear(),i=r.getMonth()-1;let u=document.querySelector("input[name=dateInput]");const l=document.createElement("div");l.classList.add("calendarHolder","hidden","popup");const c=document.createElement("div");c.classList.add("calendar");const d=document.createElement("div");d.classList.add("inputs");const o=document.createElement("div");o.classList.add("today"),o.textContent="Today";const s=document.createElement("div");s.classList.add("tomorrow"),s.textContent="Tomorrow";const f=document.createElement("div");f.classList.add("cal__container");const h=document.createElement("span");h.textContent="(scroll down)",d.append(o),d.append(s),c.append(d),c.append(f),l.append(c),e.append(l);var L=!1;const T=["January","February","March","April","May","June","July","August","September","October","November","Decemeber"];({date:function(y){L=y.style,t=y.monthsToRender,y.accentColor,y.primaryColor,y.mode}}).date({format:"dd/mm/yyyy",style:"circles",primaryColor:"#FF5A5F",accentColor:"#f99092",monthsToRender:4,disabledDatesFormat:"en-GB",userDatesFormat:"en-GB",mode:"multiple"}),t=4;for(let y=1;y<=t;y++)i=i+1,i==12&&(i=0,a=a+1),y==2?b(!0):b(!1);g();function b(y){let v=document.createElement("div");v.classList.add("month__controls");let A=document.createElement("div"),B=document.createElement("span"),P=document.createTextNode(T[i]+" "+a);A.appendChild(v),B.appendChild(P),A.classList.add("month"),n=m();const j=["m","t","w","t","f","s","s"];let te=n.createTHead();for(let k=0;k<j.length;k++){let w=document.createElement("th");w.innerHTML=j[k],te.appendChild(w)}let H=new Date(2019,parseInt(i)+1,0).getDate();i==1&&a%4==0&&(H=H+1);let J=new Date(a,i,1).getDay(),N=n.getElementsByTagName("tr").length,q=J==0?7:J;var F=n.insertRow(N);for(let k=1;k<q;k++)F.insertCell(-1);for(let k=1;k<=H;k++){let w=F.insertCell(-1),ne=new Intl.DateTimeFormat("en-US").format(new Date(a,i,k));w.setAttribute("data-date-intl",new Date(a,i,k)),w.setAttribute("data-date",ne),w.classList.add("dateCircle"),w.innerHTML="<span>"+k+"</span>",q++,q==8&&(N++,F=n.insertRow(N),q=1)}let U=document.createElement("div");U.appendChild(B),v.appendChild(U),y&&v.childNodes[0].appendChild(h),A.appendChild(n),f.appendChild(A),i==new Date().getMonth()&&a==new Date().getFullYear()&&D();function V(){let k=f.scrollTop||0;h.style.opacity=1-k/150,k>=150&&(f.removeEventListener("scroll",V),h.remove())}f.addEventListener("scroll",V),C(n)}function g(){let y=function(){for(let P=1;P<=3;P++)i=i+1,i==12&&(i=0,a=a+1),b(!1);document.getElementsByClassName("more__months")[0].remove(),f.appendChild(v)},v=document.createElement("div");v.classList.add("more__months"),v.innerHTML="+",v.addEventListener("click",y),new IntersectionObserver(y,{root:document.querySelector(".calendar"),rootMargin:"50px"}).observe(v),f.appendChild(v)}function m(){let y=document.createElement("table");return y.createTHead(),y.createTBody(),y.classList.add(L),y}var E;function C(y){E=y.querySelectorAll("[data-date]"),E.forEach(function(v,A){v.addEventListener("click",function(){ee(),v.classList.add("selected__startEnd"),u.value=v.getAttribute("data-date")})})}function D(){let y=new Date,v=document.querySelector('td[data-date="'+new Intl.DateTimeFormat("en-US").format(y)+'"]');v.classList.add("todaysDate");let A=document.createElement("div");A.classList.add("todayIndicator"),v.append(A)}function ee(){let y=document.querySelectorAll(".selected,.selected__startEnd");for(let v of y)v.classList=""}}let S=[];function I(e){if(S.length==0)return S.push(e),0;for(let t=0;t<S.length;t++){let n=S[t];if(e.priority>n.priority)return S.splice(t,0,e),t;if(e.priority===n.priority&&(!n.due||Date.parse(e.due)<=Date.parse(n.due)))return S.splice(t,0,e),t}return S.push(e),S.length-1}function oe(e){return S[e]._id}function se(e){S.splice(e,1)}function le(){S=[]}function de(e){e.checkCircle.addEventListener("click",ce)}async function ce(e){let t=ue(e.target),n=oe(t);try{let r=await re(n);(r="success")&&(se(t),document.querySelector(".allTasks").children[t+1].remove())}catch(r){console.log("error deleting task: "+r)}}function ue(e){let t=document.querySelector(".allTasks").children;for(let n=1;n<t.length;n++)if(t[n].contains(e))return n-1;return-1}function me(e,t){setTimeout(pe,t-e)}async function pe(){let e=Array.from(document.querySelector(".allTasks").children);_().then(t=>{for(let n=1;n<e.length;n++)e[n].remove();le(),t.forEach(n=>{M(n,I(n))})})}const K="/assets/clockLogo-4805281c.svg",R="/assets/priLogo-f190d631.svg",Q="/assets/calLogo-2a7545ae.svg",fe="/assets/realPlusLogo-b11ae923.svg";function M(e,t){let{name:n,desc:r,due:a,priority:i,maxPriority:u,estimatedTime:l,switchTimes:c}=e,d=0;n=z(n),r=z(r),a=ge(a),l=ye(l);let o=Le(l),s=be(a),f=Ee(i,u,c),h=ke(r),L=Te(n),T=xe(),x=document.createElement("div"),b=document.createElement("div"),g=document.createElement("div"),m=document.createElement("div"),E=document.createElement("div"),C=document.createElement("div");x.classList.add("task"),b.classList.add("checkContainer"),g.classList.add("infoContainer"),m.classList.add("row","topRow"),h.textContent!=""&&s.textContent!=""?d=3:s.textContent==""&&h.textContent==""&&o.textContent==""?d=1:d=2,d==1?(m.classList.add("row","topRow","bottomRow"),m.append(L),m.append(f),g.append(m)):d==2?(m.classList.add("row","topRow"),E.classList.add("row","bottomRow"),C=null,m.append(L),m.append(f),s.textContent!=""&&E.append(s),h.textContent!=""&&E.append(h),o.textContent!=""&&E.append(o),g.append(m),g.append(E)):(console.log(d),m.classList.add("row","topRow"),E.classList.add("row","middleRow"),C.classList.add("row","bottomRow"),m.append(L),E.append(h),E.append(f),s.textContent!=""&&C.append(s),o.textContent!=""&&C.append(o),g.append(m),g.append(E),g.append(C)),b.append(T),x.append(b),x.append(g),Array.from(document.querySelector(".allTasks").children)[t].insertAdjacentElement("afterend",x),de({estTime:o,dueDate:s,priBar:f,description:h,title:L,checkCircle:T,task:x,checkContainer:b,infoContainer:g,topRow:m,nextRow:E,bottomRow:C})}function ye(e){let t="";if(e=="")return t;if(e>=864e5){let n=Math.floor(e/864e5),r=e%864e5;return r=Math.round(r/36e5),ve(n)+", "+Y(r)}else if(e>=36e5){let n=Math.round(e*10/36e5)/10;return Y(n)}else{let n=Math.ceil(e/6e4);return he(n)}}function he(e){return e>1?e+" mins":e+" min"}function Y(e){return e>1?e+" hrs":e+" hr"}function ve(e){return e>1?e+" days":e+" day"}function ge(e){if(e=="")return e;let t=new Date().getFullYear(),n=e.split("/");return e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct"][parseInt(n[0])-1]+" "+n[1],n[2]!=t&&(e+=" '"+n[2].substring(2,4)),e}function z(e){return e.length>40&&(e=e.substring(0,40)+"..."),e}function Le(e){let t=document.createElement("div"),n=document.createElement("img"),r=document.createElement("span");return t.classList.add("taskEstTime"),n.classList.add("clockLogo","clockLogoTask"),n.setAttribute("src",K),r.textContent=e,t.append(r),t.append(n),t}function be(e){let t=document.createElement("div"),n=document.createElement("img"),r=document.createElement("span");return t.classList.add("taskDueDate"),n.classList.add("calLogo","calLogoTask"),n.setAttribute("src",Q),r.textContent=e,t.append(n),t.append(r),t}function Ee(e,t,n){let r=new Date,a=document.createElement("div"),i=document.createElement("img"),u=document.createElement("span");a.classList.add("taskPri"),i.classList.add("priLogo","priLogoTask"),i.setAttribute("src",R);for(let l=0;l<n.length;l++){let c=new Date(n[l]);if(c<r)e++;else{me(r,c);break}}if(u.textContent=e,t!=""){let l=document.createElement("div");for(let c=1;c<=t;c++){let d=document.createElement("div");d.classList.add("priCube"),c<=e?d.classList.add("filled"):d.classList.add("empty"),d.dataset.number=c,l.append(d)}l.classList.add("priBar"),a.append(l)}return a.append(u),a.append(i),a}function ke(e){let t=document.createElement("div"),n=document.createElement("span");return t.classList.add("taskDescription"),n.textContent=e,t.append(n),t}function Te(e){let t=document.createElement("div"),n=document.createElement("span");return t.classList.add("taskTitle"),n.textContent=e,t.append(n),t}function xe(){let e=document.createElement("div"),t=document.createElement("img");return e.classList.add("checkCircle"),t.classList.add("xLogo"),t.setAttribute("src",fe),e.append(t),e}function Se(){let e=Ce(),t=Ae(),n=G(),r=we(),a=G(),i=De(),u=Pe(),l=qe(),c=Ie(),d=Me(),o=Be(),s=He(),f=Ne(),h=Fe(),L=Oe(),T=_e(),x=document.createElement("div"),b=document.createElement("div"),g=document.createElement("div"),m=document.createElement("form"),E=n.querySelectorAll(".priorityPicker"),C=a.querySelectorAll(".priorityPicker");return E.forEach(D=>{D.classList.add("maxPriorityButton")}),C.forEach(D=>{D.classList.add("regPriorityButton")}),x.classList.add("rightSideButtons"),b.classList.add("options"),g.classList.add("bottomButtons"),m.classList.add("addForm"),m.setAttribute("action",""),m.setAttribute("method","post"),x.append(t),x.append(e),l.append(c),b.append(l),b.append(u),i.append(a),b.append(i),r.append(n),b.append(r),g.append(b),g.append(x),m.append(L),m.append(h),m.append(f),m.append(s),m.append(o),m.append(d),m.append(g),m.append(T),{addTask:e,cancel:t,maxPriority:r,priority:i,dueDate:u,estTime:l,description:d,descriptionInput:o,descriptionLabel:s,taskName:f,taskNameInput:h,taskNameLabel:L,rightSideButtons:x,options:b,bottomButtons:g,addForm:m,errorMessage:T}}function Ce(){let e=document.createElement("button"),t=document.createElement("span");return e.classList.add("addTask","selectable","dimmed"),t.textContent="Add",e.append(t),e}function Ae(){let e=document.createElement("div"),t=document.createElement("span");return e.classList.add("cancel","selectable"),t.textContent="Cancel",e.append(t),e}function we(){let e=document.createElement("div"),t=document.createElement("img"),n=document.createElement("div"),r=document.createElement("span"),a=document.createElement("input");return e.classList.add("maxPriority","selectable"),t.classList.add("priLogo"),t.setAttribute("src",R),n.classList.add("maxPriChoice"),r.textContent="Max. Priority",a.setAttribute("name","maxPriInput"),a.setAttribute("type","hidden"),e.append(a),n.append(r),e.append(t),e.append(n),e}function G(){let e=document.createElement("div");e.classList.add("priorityPickerHolder","hidden","popup");for(let t=1;t<=8;t++){let n=document.createElement("div");n.textContent=`Priority ${t}`,n.classList.add("priorityPicker","selectable"),n.dataset.number=t,e.append(n)}return e}function De(){let e=document.createElement("div"),t=document.createElement("img"),n=document.createElement("div"),r=document.createElement("input"),a=document.createElement("span");return e.classList.add("priority","selectable"),t.classList.add("priLogo"),t.setAttribute("src",R),n.classList.add("priChoice"),a.textContent="Priority",r.setAttribute("name","priInput"),r.setAttribute("type","hidden"),e.append(r),n.append(a),e.append(t),e.append(n),e}function Pe(){let e=document.createElement("div"),t=document.createElement("img"),n=document.createElement("div"),r=document.createElement("input"),a=document.createElement("span");return e.classList.add("dueDate","selectable"),t.classList.add("calLogo","calLogoForm"),t.setAttribute("src",Q),n.classList.add("dueDateChoice"),a.textContent="Date",r.setAttribute("name","dateInput"),r.setAttribute("type","hidden"),e.append(r),n.append(a),e.append(t),e.append(n),e}function qe(){let e=document.createElement("div"),t=document.createElement("input"),n=document.createElement("img"),r=document.createElement("div"),a=document.createElement("span");return e.classList.add("estTime","selectable"),n.classList.add("clockLogo"),n.setAttribute("src",K),r.classList.add("estTimeChoice"),a.textContent="Time",t.setAttribute("name","estTimeInput"),t.setAttribute("type","hidden"),e.append(t),r.append(a),e.append(n),e.append(r),e}function Ie(){let e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),a=document.createElement("input"),i=document.createElement("input"),u=document.createElement("input"),l=document.createElement("label"),c=document.createElement("label"),d=document.createElement("label");return e.classList.add("timePickerHolder","popup","hidden"),t.classList.add(".minuteContainer"),n.classList.add("hourContainer"),r.classList.add("dayContainer"),a.classList.add("minuteChooser","textInput"),i.classList.add("hourChooser","textInput"),u.classList.add("dayChooser","textInput"),a.setAttribute("id","estMinutes"),a.setAttribute("type","number"),a.setAttribute("min","0"),a.setAttribute("max","999"),a.setAttribute("value","0"),a.setAttribute("name","estMinutes"),i.setAttribute("id","estHours"),i.setAttribute("type","number"),i.setAttribute("min","0"),i.setAttribute("max","999"),i.setAttribute("value","0"),i.setAttribute("name","estHours"),u.setAttribute("id","estDays"),u.setAttribute("type","number"),u.setAttribute("min","0"),u.setAttribute("max","999"),u.setAttribute("value","0"),u.setAttribute("name","estDays"),l.setAttribute("for","estMinutes"),c.setAttribute("for","estHours"),d.setAttribute("for","estDays"),l.textContent="Mins",c.textContent="Hours",d.textContent="Days",t.append(l),t.append(a),n.append(c),n.append(i),r.append(d),r.append(u),e.append(t),e.append(n),e.append(r),e}function Me(){let e=document.createElement("div");return e.classList.add("description","textInput"),e.setAttribute("placeholder","Description"),e.setAttribute("contenteditable","true"),e.dataset.inputType="taskDesc",e}function Be(){let e=document.createElement("input");return e.setAttribute("type","hidden"),e.setAttribute("id","taskDesc"),e.setAttribute("name","taskDesc"),e}function He(){let e=document.createElement("label");return e.setAttribute("for","taskDesc"),e.setAttribute("style","display:none"),e.textContent="Task Description",e}function Ne(){let e=document.createElement("div");return e.classList.add("title","textInput"),e.setAttribute("placeholder","Task name"),e.setAttribute("contenteditable","true"),e.dataset.inputType="taskName",e}function Fe(){let e=document.createElement("input");return e.setAttribute("type","hidden"),e.setAttribute("id","taskName"),e.setAttribute("name","taskName"),e.setAttribute("required","true"),e}function Oe(){let e=document.createElement("label");return e.setAttribute("for","taskName"),e.setAttribute("style","display:none"),e.textContent="Title",e}function _e(){let e=document.createElement("div");return e.classList.add("errorMessage","under"),e.textContent="temp",e}const W="/assets/plusLogo-e53df4f9.svg",Re="/assets/plusLogoBlue-42864a69.svg";let p;function $e(){let e=0;document.querySelector(".addButton").remove(),je(),p=Se(),document.querySelector(".allTasks").prepend(p.addForm),p.taskName.focus(),ie(p.dueDate),Ve(i);function n(){for(let o=0;o<arguments.length;o++)arguments[o].style.left=`calc(50% - ${arguments[o].clientWidth}px / 2)`}n(p.errorMessage),O(),p.dueDate.addEventListener("click",o=>{let s=document.querySelector(".calendarHolder");o.target.classList.contains("dateCircle")||o.target.parentElement.classList.contains("dateCircle")?s.classList.add("hidden"):s.classList.contains("hidden")&&(s.classList.toggle("hidden"),a())}),p.estTime.addEventListener("click",()=>{let o=document.querySelector(".timePickerHolder");o.classList.contains("hidden")&&(o.classList.toggle("hidden"),a())});function r(o){e=o,p.maxPriority.querySelectorAll(".priorityPicker").forEach(f=>{f.dataset.number<=o?f.classList.add("dimmed"):f.classList.remove("dimmed")})}p.priority.addEventListener("click",o=>{let s=document.querySelectorAll(".priorityPickerHolder")[0];Je(o.target)?(r(o.target.dataset.number-1),i(),s.classList.add("hidden")):s.classList.contains("hidden")&&(s.classList.toggle("hidden"),a())}),p.maxPriority.addEventListener("click",o=>{let s=document.querySelectorAll(".priorityPickerHolder")[1];Ue(o.target,e)?s.classList.add("hidden"):s.classList.contains("hidden")&&(s.classList.toggle("hidden"),a())}),p.estTime.querySelectorAll(".textInput").forEach(o=>{o.addEventListener("focus",s=>{s.target.select()})});function a(o){let s;document.querySelectorAll(".popup").forEach(T=>{T.classList.contains("hidden")||(s=T)});let h=function(T){s.contains(T.target)||(s.classList.add("hidden"),L())},L=function(){document.removeEventListener("click",h,!0)};document.addEventListener("click",h,!0)}p.cancel.addEventListener("click",X);function i(){document.querySelector("input[name=taskName]").value!=""&&document.querySelector("input[name=priInput]").value!=""&&(p.dueDate.querySelector("input[name=dateInput]").value!=""||p.maxPriority.querySelector("input[name=maxPriInput]").value=="")?p.addTask.classList.remove("dimmed"):p.addTask.classList.add("dimmed")}function u(o){o.forEach(s=>{s.type==="attributes"&&s.attributeName==="value"&&i()})}const l=new MutationObserver(u);l.observe(p.dueDate.querySelector("input[name=dateInput]"),{attributes:!0}),l.observe(p.maxPriority.querySelector("input[name=maxPriInput]"),{attributes:!0}),p.estTime.querySelectorAll("input").forEach(o=>{Ye(o)});function c(o){p.errorMessage.textContent=o,n(p.errorMessage),p.errorMessage.style.top="100%"}function d(o){o.target.classList.contains("dimmed")&&c(Z())}p.addTask.addEventListener("mouseover",d),document.addEventListener("click",O),p.addForm.addEventListener("submit",ze)}function O(){p.errorMessage.style.top=`calc(100% - ${p.errorMessage.clientHeight}px)`}function X(){document.removeEventListener("click",O),document.querySelector(".addForm").remove(),$()}function $(){let e=document.createElement("div"),t=document.createElement("img"),n=document.createElement("span");e.classList.add("addButton"),n.textContent="Add task",t.classList.add("addLogo"),t.setAttribute("src",W),e.append(t),e.append(n),document.querySelector(".allTasks").prepend(e),e.addEventListener("click",$e),e.addEventListener("mouseover",()=>{document.querySelector(".addLogo").setAttribute("src",Re)}),e.addEventListener("mouseout",()=>{document.querySelector(".addLogo").setAttribute("src",W)})}function je(){document.querySelectorAll(".textInput").forEach(t=>{t.addEventListener("paste",function(n){if(n.preventDefault(),n.clipboardData&&n.clipboardData.getData){let r=n.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,r)}else if(window.clipboardData&&window.clipboardData.getData){let r=window.clipboardData.getData("Text");insertTextAtCursor(r)}})})}function Je(e){return e.classList.contains("regPriorityButton")?(document.querySelector('input[name="priInput"]').setAttribute("value",e.dataset.number),document.querySelector('input[name="maxPriInput"]').value!=""&&e.dataset.number>document.querySelector('input[name="maxPriInput"]').value&&(document.querySelector('input[name="maxPriInput"]').value=e.dataset.number),!0):!1}function Ue(e,t){return e.classList.contains("maxPriorityButton")&&e.dataset.number>t?(document.querySelector('input[name="maxPriInput"]').setAttribute("value",e.dataset.number),!0):!1}function Ve(e){let t=document.querySelector(".title"),n=document.querySelector(".description");document.querySelector("input[name=estMinutes"),document.querySelector("input[name=estHours"),document.querySelector("input[name=estDays");function r(){let l=t,c=l.innerText.replace(/\n/g,"");document.querySelector(`#${l.dataset.inputType}`).setAttribute("value",c),e()}function a(){let l=n,c=l.innerText.replace(/\n/g,"");document.querySelector(`#${l.dataset.inputType}`).setAttribute("value",c)}new MutationObserver(r).observe(t,{characterData:!0,subtree:!0}),new MutationObserver(a).observe(n,{characterData:!0,subtree:!0})}function Ye(e){e.addEventListener("keydown",t=>{t.code=="Minus"&&t.preventDefault()}),e.addEventListener("paste",t=>{let n=t.clipboardData.getData("text/plain"),r=t.target.value,a="",i="";for(;n.indexOf("-")!=-1;)n=n.replace("-","");window.getSelection?a=window.getSelection():document.getSelection?a=document.getSelection():document.selection&&(a=document.selection.createRange().text),i=r.replace(a,n),i.length>3&&(i=i.slice(0,3)),t.target.value=i,t.preventDefault()}),e.addEventListener("input",t=>{t.target.value.length>3&&(t.target.value=t.target.value.slice(0,3))}),e.addEventListener("blur",t=>{t.target.value===""&&(t.target.value="0")})}function Z(){let e=!0,t="";return document.querySelector("input[name=taskName]").value==""&&(t+="Task name is required",e=!1),document.querySelector("input[name=priInput]").value==""&&(e||(t+=", "),t+="Priority is required",e=!1),document.querySelector("input[name=dateInput]").value==""&&document.querySelector("input[name=maxPriInput]").value!=""&&(e||(t+=", "),t+="Date is required to use Max. Priority",e=!1),t}function ze(e){if(Z()!="")e.preventDefault();else{e.preventDefault();let a=r();M(a,I(a)),ae(a),X()}function t(a,i,u,l,c,d){let o={name:a,desc:i,due:u,priority:l,maxPriority:c,estimatedTime:d},s=[];return c!=""&&(s=n(o)),o.switchTimes=s,o}function n(a){let i=parseInt(a.maxPriority)-parseInt(a.priority);if(i==0)return null;let l=new Date(a.due).getTime(),d=new Date().getTime(),o=a.estimatedTime;o<864e5&&(o=864e5);let f=(l-o-d)/i,h=[];for(let L=1;L<=i;L++){let T=new Date(d+f*L);h.push(T.toJSON())}return h}function r(){let a=document.querySelector("input[name=taskName]").value,i=document.querySelector("input[name=taskDesc]").value,u=document.querySelector("input[name=dateInput]").value,l=document.querySelector("input[name=priInput]").value,c=document.querySelector("input[name=maxPriInput]").value,d=parseInt(document.querySelector("input[name=estMinutes").value),o=parseInt(document.querySelector("input[name=estHours").value),s=parseInt(document.querySelector("input[name=estDays").value);console.log("estmins type: "+typeof d);let f=6e4*d+36e5*o+864e5*s;return t(a,i,u,l,c,f)}}console.log("env variable: http://localhost:3000");window.handleAuth=async e=>{console.log(e);try{(await(await fetch("http://localhost:3000/auth",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()).status=="it worked"&&(document.querySelector("body").innerHTML='<div class="allTasks">',$(),_().then(r=>{r.forEach(a=>{M(a,I(a))})}))}catch(t){console.log("handleAuth error: "+t)}};document.querySelector("body").innerHTML=`
    <div id="g_id_onload"
        data-client_id="334783994184-v63tsepd3hfgg4534l9v74r3nqtv1t6l.apps.googleusercontent.com"
        data-context="signin"
        data-ux_mode="popup"
        data-callback="handleAuth"
        data-auto_select="true"
        data-itp_support="true">
    </div>

    <div class="g_id_signin"
        data-type="standard"
        data-shape="rectangular"
        data-theme="outline"
        data-text="signin_with"
        data-size="large"
        data-logo_alignment="left">
    </div>
    <div class="testLoginButton" style="border: 1px solid red">Test login button updated</div>
    `;document.querySelector(".testLoginButton").addEventListener("click",async e=>{(await(await fetch("http://localhost:3000/testlogin",{mode:"cors"})).json()).status=="it worked"&&(document.querySelector("body").innerHTML='<div class="allTasks">',$(),_().then(r=>{r.forEach(a=>{M(a,I(a))})}))});
